# kopi API 技術選定 v1.0

## ✅ バックエンド

| 技術          | 詳細                  |
| ----------- | ------------------- |
| **フレームワーク** | NestJS + TypeScript |
| **ORM**     | Prisma              |
| **API形式**   | GraphQL             |
| **認証**      | JWT（@nestjs/jwt）    |
| **バリデーション** | class-validator     |
| **環境変数管理**  | @nestjs/config      |

---

## ✅ データベース

| 技術     | 詳細                           |
| ------ | ---------------------------- |
| **DB** | PostgreSQL                   |
| **特徴** | JSONB対応、Prismaと好相性、スケーラビリティ高 |

---

## ✅ テスト

| 技術             | 詳細                   |
| -------------- | -------------------- |
| **テストフレームワーク** | Jest + Supertest     |
| **範囲**         | ユニットテスト、統合テスト、E2Eテスト |

---

## ✅ エラーハンドリング & ロギング

| 技術        | 詳細                             |
| --------- | ------------------------------ |
| **エラー処理** | ExceptionFilter で共通ハンドリング      |
| **ロギング**  | NestJS標準Logger（必要に応じてWinston等） |

---

## ✅ デプロイ & インフラ

| 技術        | 詳細                                        |
| --------- | ----------------------------------------- |
| **インフラ**  | Heroku（API用Dyno + PostgreSQLアドオン）         |
| **CI/CD** | GitHub Actions（Lint/Build/Test/Deploy自動化） |
| **開発支援**  | GraphQL Playground                        |

---

## ✅ 補足・備考

* PrismaのマイグレーションでDBスキーマを一元管理
* GraphQLスキーマはAPIドキュメントとしても活用
* モニタリング／ロギングは必要時に別途検討

この技術選定をもとに、堅牢なAPIサーバー構築を進めましょう 🚀

